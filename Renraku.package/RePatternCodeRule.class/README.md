An abstract class containing common tools for match and rewrite rules